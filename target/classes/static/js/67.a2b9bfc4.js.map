{"version":3,"file":"js/67.a2b9bfc4.js","mappings":"qJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,IAAI,CAACE,YAAY,cAAc,CAACJ,EAAIK,GAAG,UAAUH,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,cAAc,CAACI,MAAM,CAAC,GAAK,UAAU,CAACN,EAAIK,GAAG,QAAQ,GAAGH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACE,YAAY,aAAaE,MAAM,CAAC,MAAQ,SAAS,CAACN,EAAIO,GAAG,GAAGL,EAAG,QAAQ,CAACE,YAAY,YAAYE,MAAM,CAAC,GAAK,cAAcN,EAAIQ,GAAIR,EAAIS,UAAU,SAASC,GAAM,OAAOR,EAAG,KAAK,CAACS,IAAID,EAAKE,KAAK,CAACV,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,iBAAiBE,MAAM,CAAC,IAAMO,EAAAA,KAAAA,CAAQ,WAAWH,EAAKI,MAAM,gBAAgBZ,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIe,GAAGL,EAAKM,UAAUd,EAAG,KAAK,CAACF,EAAIK,GAAG,KAAKH,EAAG,OAAO,CAACF,EAAIK,GAAGL,EAAIe,GAAGL,EAAKO,YAAYf,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIe,GAAGL,EAAKQ,QAAQhB,EAAG,KAAK,CAACF,EAAIK,GAAG,KAAKH,EAAG,OAAO,CAACF,EAAIK,GAAGL,EAAIe,GAAGL,EAAKO,MAAQP,EAAKQ,WAAW,IAAG,KAAKhB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,IAAI,CAACE,YAAY,gBAAgBE,MAAM,CAAC,GAAK,gBAAgB,CAACN,EAAIK,GAAG,KAAKH,EAAG,OAAO,CAACE,YAAY,aAAa,CAACJ,EAAIK,GAAGL,EAAIe,GAAGf,EAAImB,aAAanB,EAAIK,GAAG,OAAOH,EAAG,IAAI,CAACE,YAAY,gBAAgBE,MAAM,CAAC,GAAK,gBAAgB,CAACN,EAAIK,GAAG,SAASH,EAAG,OAAO,CAACE,YAAY,aAAa,CAACJ,EAAIK,GAAGL,EAAIe,GAAGf,EAAIoB,mBAAmBlB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,QAAQ,CAACE,YAAY,eAAeE,MAAM,CAAC,KAAO,SAAS,MAAQ,QAAQe,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOtB,EAAIuB,aAAa,kBAC74C,EACIC,EAAkB,CAAC,WAAY,IAAIxB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACI,MAAM,CAAC,MAAQ,SAASJ,EAAG,KAAK,CAACI,MAAM,CAAC,MAAQ,QAAQ,CAACN,EAAIK,GAAG,QAAQH,EAAG,KAAK,CAACI,MAAM,CAAC,MAAQ,QAAQ,CAACN,EAAIK,GAAG,QAAQH,EAAG,KAAK,CAACI,MAAM,CAAC,MAAQ,QAAQ,CAACN,EAAIK,GAAG,QAAQH,EAAG,KAAK,CAACI,MAAM,CAAC,MAAQ,QAAQ,CAACN,EAAIK,GAAG,WACrT,GC4CA,G,QAAA,CACAoB,KAAA,eACAC,IAAAA,GACA,OACAjB,SAAA,GACAU,SAAA,EACAC,WAAA,EACAO,KAAA,GACAC,IAAA,GAEA,EACAC,OAAAA,GACA,MAAAC,EAAA,SACA,KAAAC,OAAAC,IAAAF,GACAG,MAAAC,IACA,KAAAzB,SAAAyB,EAAAR,KAAAA,KACAS,QAAAC,IAAAF,EAAAR,KAAAA,MAEA,IAAAP,EAAA,EACAC,EAAA,EACA,KAAAX,SAAA4B,SAAAC,IACAnB,GAAAmB,EAAApB,IACAE,GAAAkB,EAAArB,MAAAqB,EAAApB,GAAA,IAEA,KAAAC,SAAAA,EACA,KAAAC,WAAAA,EAGA,IAAAO,EAAA,GACA,QAAAY,EAAA,EAAAA,EAAA,KAAA9B,SAAA+B,OAAAD,IACAZ,EAAAc,KAAA,aAAAhC,SAAA8B,GAAA3B,KAEAe,EAAAA,EAAAe,WAAAC,WAAA,SACA,KAAAhB,KAAAA,CAAA,GAEA,EAEAiB,QAAA,CACArB,WAAAA,GACA,MAAAO,EAAA,iBACA,KAAAC,OAAAc,KAAAf,EAAA,KAAAH,MAAAM,MAAAC,IACA,IAAAN,EAAAM,EAAAR,KAAAA,KAAAE,IACA,KAAAA,IAAAA,EACA,KAAAkB,QAAAL,KAAA,0BAAAb,IAAA,IACAmB,OAAAC,IACAb,QAAAC,IAAAY,EAAA,GAEA,KC9F4P,I,UCQxPC,GAAY,OACd,EACAlD,EACAyB,GACA,EACA,KACA,WACA,MAIF,EAAeyB,EAAiB,O","sources":["webpack://store/./src/views/OrderConfirm.vue","webpack://store/src/views/OrderConfirm.vue","webpack://store/./src/views/OrderConfirm.vue?f491","webpack://store/./src/views/OrderConfirm.vue?e0a3"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('main',[_c('div',{staticClass:\"container\"},[_c('p',{staticClass:\"title mb-5\"},[_vm._v(\"訂單確認\")]),_c('div',{staticClass:\"return_to mb-5\"},[_c('router-link',{attrs:{\"to\":\"/cart\"}},[_vm._v(\"〈\")])],1),_c('div',{staticClass:\"cart_form\"},[_c('table',{staticClass:\"cart-table\",attrs:{\"width\":\"100%\"}},[_vm._m(0),_c('tbody',{staticClass:\"cart-body\",attrs:{\"id\":\"cart-list\"}},_vm._l((_vm.CartList),function(item){return _c('tr',{key:item.cid},[_c('td',[_c('img',{staticClass:\"img-responsive\",attrs:{\"src\":require('@/assets'+item.image+'all.jpg')}})]),_c('td',[_vm._v(_vm._s(item.title))]),_c('td',[_vm._v(\"$\"),_c('span',[_vm._v(_vm._s(item.price))])]),_c('td',[_vm._v(_vm._s(item.num))]),_c('td',[_vm._v(\"$\"),_c('span',[_vm._v(_vm._s(item.price * item.num))])])])}),0)]),_c('div',{staticClass:\"total-bar mb-5\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-6\"},[_c('p',{staticClass:\"total_price_1\",attrs:{\"id\":\"selectTotal\"}},[_vm._v(\"共\"),_c('span',{staticClass:\"all-count\"},[_vm._v(_vm._s(_vm.CountNum))]),_vm._v(\"件\")]),_c('p',{staticClass:\"total_price_1\",attrs:{\"id\":\"selectTotal\"}},[_vm._v(\"總金額：$\"),_c('span',{staticClass:\"all-price\"},[_vm._v(_vm._s(_vm.TotalPrice))])])]),_c('div',{staticClass:\"col-6\"},[_c('input',{staticClass:\"checkout_btn\",attrs:{\"type\":\"button\",\"value\":\"建立訂單\"},on:{\"click\":function($event){return _vm.CreateOrder()}}})])])])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',{attrs:{\"width\":\"15%\"}}),_c('th',{attrs:{\"width\":\"35%\"}},[_vm._v(\"商品\")]),_c('th',{attrs:{\"width\":\"15%\"}},[_vm._v(\"單價\")]),_c('th',{attrs:{\"width\":\"15%\"}},[_vm._v(\"數量\")]),_c('th',{attrs:{\"width\":\"20%\"}},[_vm._v(\"金額\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <main>\r\n        <div class=\"container\">\r\n            <p class=\"title mb-5\">訂單確認</p>\r\n            <div class=\"return_to mb-5\">\r\n                <router-link to=\"/cart\">〈</router-link>\r\n            </div>\r\n            <div class=\"cart_form\">\r\n                <table class=\"cart-table\" width=\"100%\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th width=\"15%\"></th>\r\n                            <th width=\"35%\">商品</th>\r\n                            <th width=\"15%\">單價</th>\r\n                            <th width=\"15%\">數量</th>\r\n                            <th width=\"20%\">金額</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody id=\"cart-list\" class=\"cart-body\">\r\n                        <tr v-for=\"item in CartList\" :key=\"item.cid\">\r\n                            <td><img :src=\"require('@/assets'+item.image+'all.jpg')\" class=\"img-responsive\" />\r\n                            <td>{{item.title}}</td>\r\n                            <td>$<span>{{item.price}}</span></td>\r\n                            <td>{{item.num}}</td>\r\n                            <td>$<span>{{item.price * item.num}}</span></td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <div class=\"total-bar mb-5\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-6\">\r\n                            <p id=\"selectTotal\" class=\"total_price_1\">共<span class=\"all-count\">{{CountNum}}</span>件</p>\r\n                            <p id=\"selectTotal\" class=\"total_price_1\">總金額：$<span class=\"all-price\">{{TotalPrice}}</span></p>\r\n                        </div>\r\n                        <div class=\"col-6\">\r\n                            <input type=\"button\" value=\"建立訂單\" @click=\"CreateOrder()\" class=\"checkout_btn\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'OrderConfirm',\r\n    data() {\r\n        return {\r\n            CartList: '',\r\n            CountNum: 0,\r\n            TotalPrice: 0,\r\n            cids: '',\r\n            oid: ''\r\n        }\r\n    },\r\n    created() {\r\n        const url = '/carts';\r\n        this.$axios.get(url)\r\n        .then(res=>{\r\n        this.CartList = res.data.data\r\n        console.log(res.data.data);\r\n\r\n        let CountNum = 0\r\n        let TotalPrice = 0\r\n        this.CartList.forEach(element => {\r\n            CountNum += element.num\r\n            TotalPrice += element.price * element.num\r\n        });\r\n        this.CountNum = CountNum\r\n        this.TotalPrice = TotalPrice\r\n\r\n        // 拼接get參數\r\n        let cids = []\r\n        for (let i = 0; i < this.CartList.length; i++) {\r\n            cids.push(\"cids=\"+this.CartList[i].cid)\r\n        }\r\n        cids = cids.toString().replaceAll(',', '&')\r\n        this.cids = cids\r\n        })\r\n    },\r\n\r\n    methods: {\r\n        CreateOrder() {\r\n            const url = '/orders/create'\r\n            this.$axios.post(url, this.cids).then(res=>{\r\n                let oid = res.data.data.oid\r\n                this.oid = oid\r\n                this.$router.push('/ordercreated?oid='+ this.oid)\r\n            }).catch(err=>{\r\n                console.log(err);\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nmain{\r\n\tflex:1;\r\n\r\n    .container{\r\n        display: flex;\r\n        flex-direction: column;\r\n        min-height: 81.9vh;\r\n    }\r\n}\r\n\r\n.title{\r\n\ttext-align: center;\r\n\tfont-size: 30px;\r\n\tfont-weight: 600;\r\n}\r\n.return_to a{\r\n\tposition: relative;\r\n\tfont-size: 30px;\r\n\tcolor: #000;\r\n    text-decoration: none;\r\n\t\r\n}\r\n.return_to a::after{\r\n\tposition: absolute;\r\n\tbottom: 7px;\r\n\tcontent: '返回購物車';\r\n\twidth: 200px;\r\n\tmargin-left: 25px;\r\n\tfont-size: 20px;\r\n\tcolor: #518BB5;\r\n}\r\n.total_top{\r\n\twidth: 100%;\r\n\theight: 83px;\r\n\tbackground-color: #F0F0F0;\r\n\ttext-align: center;\r\n}\r\n.total_top span{\r\n\tline-height: 83px;\r\n\tfont-weight: 600;\r\n\tvertical-align: top;\r\n\tletter-spacing: 5px;\r\n}\r\n.total_top span:first-child{\r\n\tfont-size: 20px;\r\n\tmargin-right: 30px;\r\n}\r\n.total_top span:nth-child(2){\r\n\tfont-size: 30px;\r\n}\r\n.img-responsive{\r\n\twidth: 150px;\r\n\theight: 180px;\r\n\tmargin: 10px;\r\n}\r\n.num-btn {\r\n\twidth: 30px;\r\n}\r\ninput{\r\n\ttext-align:center\r\n}\r\n.cart-table tbody tr:not(:first-child) {\r\n\tborder-top: 1px dashed #cccccc;\r\n}\r\n.total-bar .row{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\twidth: 100%;\r\n\theight: 120px;\r\n\tbackground-color: #F0F0F0;\r\n}\r\n.total_price_1, .total_price_2{\r\n\tfont-size: 25px;\r\n\tfont-weight: 600;\r\n\tletter-spacing: 5px;\r\n\tmargin-left: 70px;\r\n}\r\n.checkout_btn{\r\n\twidth: 300px;\r\n    height: 45px;\r\n    font-size: 20px;\r\n    letter-spacing: 3px;\r\n    transition: .4s;\r\n\tbackground-color: #000;\r\n    color: #FFF;\r\n\tmargin-right: 50px;\r\n}\r\n.checkout_btn:hover{\r\n\ttransition: .4s;\r\n    background-color: #FFF;\r\n    color: #000;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderConfirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderConfirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderConfirm.vue?vue&type=template&id=02edb1dc&scoped=true&\"\nimport script from \"./OrderConfirm.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderConfirm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderConfirm.vue?vue&type=style&index=0&id=02edb1dc&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02edb1dc\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","_m","_l","CartList","item","key","cid","require","image","_s","title","price","num","CountNum","TotalPrice","on","$event","CreateOrder","staticRenderFns","name","data","cids","oid","created","url","$axios","get","then","res","console","log","forEach","element","i","length","push","toString","replaceAll","methods","post","$router","catch","err","component"],"sourceRoot":""}