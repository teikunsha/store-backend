"use strict";(self["webpackChunkstore"]=self["webpackChunkstore"]||[]).push([[86],{4086:function(t,a,s){s.r(a),s.d(a,{default:function(){return u}});var n=function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"container"},[a("p",{staticClass:"title mb-5"},[t._v("購物車")]),t._m(0),t.cartData.length<=0?a("div",{attrs:{id:"noItem"}},[t._v("購物車沒有商品")]):a("div",{staticClass:"cart_form",attrs:{id:"cart_form"}},[a("table",{staticClass:"cart-table",attrs:{width:"100%"}},[t._m(1),a("tbody",{staticClass:"cart-body",attrs:{id:"cart-list"}},t._l(t.cartData,(function(n){return a("tr",{key:n.cid},[a("td",[a("img",{staticClass:"img-responsive",attrs:{src:s(2231)("./assets"+n.image+"all.jpg")}})]),a("td",[t._v(t._s(n.title))]),a("td",[t._v("＄"),a("span",{attrs:{id:"goodsPrice1"}},[t._v(t._s(n.price))])]),a("td",[a("input",{staticClass:"num-btn",attrs:{type:"button",value:"-"},on:{click:function(a){return t.subNum(n.cid,n.num)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:n.num,expression:"item.num"}],staticClass:"num-text",attrs:{type:"text",size:"2",readonly:"readonly"},domProps:{value:n.num},on:{input:function(a){a.target.composing||t.$set(n,"num",a.target.value)}}}),a("input",{staticClass:"num-btn",attrs:{type:"button",value:"+"},on:{click:function(a){return t.addNum(n.cid)}}})]),a("td",[a("span",{attrs:{id:"goodsCast1"}},[t._v(t._s(n.price*n.num))])]),a("td",[a("input",{staticClass:"cart-del btn btn-default btn-xs",attrs:{type:"button",value:"删除"},on:{click:function(a){return t.deleteCartItem(n,n.cid)}}})])])})),0)]),a("div",{staticClass:"total-bar mb-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("input",{staticClass:"checkout_btn",attrs:{type:"submit",value:"確認訂單"},on:{click:function(a){return t.confirmBtn()}}})])])])])])])},e=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"return_to_index mb-5"},[a("a",{attrs:{href:"/"}},[t._v("〈")])])},function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",{attrs:{width:"100"}}),a("th",{attrs:{width:"29%"}},[t._v("商品")]),a("th",{attrs:{width:"11%"}},[t._v("單價")]),a("th",{attrs:{width:"20%"}},[t._v("數量")]),a("th",{attrs:{width:"11%"}},[t._v("金額")]),a("th")])])}],i=(s(7658),{inject:["reload"],name:"Cart",data(){return{cartData:""}},created(){const t="/carts";this.$axios.post(t).then((t=>{this.cartData=t.data.data})).catch((t=>{console.log(t)}))},methods:{subNum(t){const a="/carts/"+t+"/num/minus";this.$axios.post(a).then((a=>{const s=this._data.cartData;s.forEach((a=>{a.cid===t&&(a.num-=1)}))})).catch((t=>{alert("商品數量減少產生未知的異常，"+t)}))},addNum(t){const a="/carts/"+t+"/num/add";this.$axios.post(a).then((a=>{const s=this._data.cartData;s.forEach((a=>{a.cid===t&&(a.num+=1)}))})).catch((t=>{alert("商品數量增加產生未知的異常，"+t)}))},deleteCartItem(t,a){this.cartData.splice(t,1);const s="/carts/delete/"+a;this.$axios(s).then((t=>{console.log("移除成功")})).catch((t=>{console.log("移除失敗")}))},confirmBtn(){this.$router.push("/orderconfirm")}}}),r=i,c=s(1001),o=(0,c.Z)(r,n,e,!1,null,"6bb04e3c",null),u=o.exports}}]);
//# sourceMappingURL=86.2eb0558d.js.map